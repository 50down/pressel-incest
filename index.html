<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Redirecionando...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      text-align: center;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .telegram-logo {
      width: 80px;
      margin-bottom: 20px;
    }

    .status-text {
      font-size: 1.2rem;
      margin-bottom: 10px;
      color: #444;
      /* Define uma altura mínima para evitar que o layout pule quando o texto aparecer */
      min-height: 1.5em;
    }

    .progress-bar {
      width: 200px;
      height: 8px;
      background-color: #ddd;
      border-radius: 5px;
      overflow: hidden;
    }

    .progress {
      width: 0;
      height: 100%;
      background-color: #0088cc;
      animation: loading 1.5s linear forwards;
    }

    @keyframes loading {
      to {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  
  <div class="container" id="loading-container">
    <svg class="telegram-logo" viewBox="0 0 240 240" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="120" cy="120" r="120" fill="#0088CC"/>
      <path d="M97.5 120.5L149.5 98L129 148L97.5 120.5Z" fill="#C8DAEA"/>
      <path d="M97.5 120.5L118 139.5L129 148L97.5 120.5Z" fill="#A9C9DD"/>
      <path d="M97.5 120.5L149.5 98L118 139.5L97.5 120.5Z" fill="white"/>
    </svg>
    
    <div class="status-text" id="status-text"></div>
    <div class="progress-bar">
      <div class="progress"></div>
    </div>
  </div>

  <script>
    const statusText = document.getElementById('status-text');
    const loadingContainer = document.getElementById('loading-container');

    const linksInternacionais = [
      "https://t.me/teenpayments_bot?start=true",
      "https://t.me/incetspaymentes_bot?start=true",
      "https://t.me/incesteenpayments_bot?start=true",
      "https://t.me/incesteenpayments01_bot?start=true",
      "https://t.me/teenpay02ments_bot?start=true",
      "https://t.me/teenpay03ments_bot?start=true",
      "https://t.me/incesteenpayments05_bot?start=true",
      "https://t.me/incesteenpayments0_bot?start=true"
    ];
    
    const linkBrasil = "https://apextry.com/go/medelos-brasil";

    function verificarLocalizacao() {
      fetch('https://ip-api.com/json/?fields=countryCode')
        .then(response => response.json())
        .then(data => {
          statusText.textContent = 'Redirecionando...';

          // LÓGICA CORRIGIDA E MAIS SEGURA:
          // O padrão é ir para o link do Brasil.
          let destino = linkBrasil;

          // Somente se a API confirmar que o país NÃO é o Brasil,
          // o destino muda para um dos links internacionais.
          if (data.countryCode && data.countryCode !== 'BR') {
            destino = linksInternacionais[Math.floor(Math.random() * linksInternacionais.length)];
          }
          
          // Redireciona para o destino que foi decidido
          location.replace(destino);
        })
        .catch(error => {
          // Em caso de erro, a nova lógica segura é redirecionar para o link do Brasil
          console.error('Erro ao verificar a localização, redirecionando para o link padrão:', error);
          statusText.textContent = 'Não foi possível verificar. Redirecionando...';
          location.replace(linkBrasil);
        });
    }

    verificarLocalizacao();
  </script>
</body>
</html>
